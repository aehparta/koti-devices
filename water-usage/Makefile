
TARGET = PIC8
USE += SPI GPIO DRIVER_NRF24L01P CRC RC5
# USE += LOG

# pic8
MCU_PIC8 = 16LF18446
F_CPU_PIC8 = 16000000
USE_PIC8 = KOTI_NRF_LOW_POWER
DEFINES_PIC8 += LOG_BAUD=38400 PIC8_LOG_TX_PPS=RA5PPS
DEFINES_PIC8 += SPI_HARDCODED_SS=GPIOC2 SPI_HARDCODED_MISO=GPIOB6 SPI_HARDCODED_MOSI=GPIOB5 SPI_HARDCODED_SCLK=GPIOB4 SPI_HARDCODED_FREQUENCY=1e6
DEFINES_PIC8 += NRF24L01P_HARDCODED_CE=GPIOC1

# init make system
include $(KOTI_PATH)/init.mk

# our own sources etc
BUILD_BINS = wu
PROGRAM_BIN = wu
wu_SRC = main.c $(libe_SRC) $(koti_nrf_SRC)

# build
include $(KOTI_PATH)/build.mk

# programmable targets
include $(LIBE_PATH)/flash/program.mk

-include local.mk
